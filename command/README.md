# Command パターン

- 他のオブジェクトへの要求をオブジェクトにするパターン

## クラス図

![](https://i.imgur.com/EYWtOI3.png)

## Ruby らしい方法

- Command をクラスではなく、コードブロックにする

## Command パターンの用途

- 要求のアルゴリズムが変わる時
- すでに行ったことの履歴を一覧で見たい時(またはこれから行うことを一覧で説明したい時)
  - e.g. インストーラがインストール前に何を行うか知りたい場合
- すでに完了したことを元に戻せるようにしたい場合
  - 元に戻すコマンドを用意しておく
- コマンドを一気に実行したい場合
  - e.g. インストーラがウィザードで一項目ずつユーザーに確認しながら進んでいき、最後に本当にインストールを行うか確認したあとに実行する場合

## Observer パターンとの違い

- Command パターンは、何かを行う方法を知っているだけで、呼び出し元の状態に関心がない
- Observer パターンは、呼び出し元の状態に関心がある

## 参考文献

- ラス・オルセン 「Ruby によるデザインパターン」 ピアソン・エデュケーション 2009
- [TECHSCORE](https://www.techscore.com/tech/DesignPattern/Command)
